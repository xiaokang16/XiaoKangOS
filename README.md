# XiaoKangOS - 网页即桌面的操作系统

<p align="center">
  <strong>🚀 一个把网页变成操作系统的神奇项目</strong>
</p>

## 🌟 一句话介绍

**XiaoKangOS = Linux内核 + 定制浏览器 + 网页界面 = 一个用网页当桌面的操作系统！**

## 📺 这是什么？

想象一下，你的电脑开机后，看到的不再是Windows桌面，而是一个**全屏的网页**。这个网页可以：
- 查看文件
- 管理程序
- 开关机
- 配置网络
- 查看硬件信息

这就是XiaoKangOS！

## ✨ 主要特性

| 特性 | 说明 | 状态 |
|------|------|------|
| 🚀 **快速启动** | 30秒内从开机到网页界面 | ✅ 已实现 |
| 🖥️ **全屏网页界面** | 无边框、无浏览器UI | ✅ 已实现 |
| 📁 **文件系统访问** | 网页可以直接读写文件 | ✅ 已实现 |
| 📊 **进程管理** | 网页可以查看/结束程序 | ✅ 已实现 |
| 🔧 **系统控制** | 网页可以重启/关机 | ✅ 已实现 |
| 🌐 **网络管理** | 网页可以配置网络 | ✅ 已实现 |
| 💾 **持久化存储** | 重启后数据不丢失 | ✅ 已实现 |
| 🎮 **3D显卡支持** | 支持NVIDIA/AMD/Intel显卡 | ✅ 已实现 |

## 🚀 快速体验

想立刻试试？我们有3种方式：

### 方式1️⃣：虚拟机体验（最简单！）

1. 下载 [VirtualBox](https://www.virtualbox.org/)
2. 下载 XiaoKangOS ISO文件（需要先构建）
3. 创建虚拟机 → 分配2GB内存 → 挂载ISO → 启动！

### 方式2️⃣：U盘启动

1. 准备一个4GB以上U盘
2. 用 [Rufus](https://rufus.ie/) 把ISO烧录到U盘
3. 电脑从U盘启动 → 立即体验！

### 方式3️⃣：安装到硬盘

（需要一定技术基础，会格式化硬盘）

## 🛠️ 如何构建？

### 先决条件

- **操作系统**：Ubuntu 20.04/22.04（建议）
- **硬盘空间**：至少50GB
- **内存**：至少8GB
- **网络**：需要下载内核和浏览器源码

### 构建步骤

```bash
# 1. 克隆项目
git clone https://github.com/xiaokang16/XiaoKangOS.git
cd xiaokangos

# 2. 进入构建目录
cd build

# 3. 一键构建（会下载内核、编译、生成ISO）
./build.sh

# 或者分步构建
./build.sh kernel    # 仅编译内核
./build.sh rootfs    # 仅构建根文件系统
./build.sh iso       # 仅生成ISO
```

### 输出文件

构建完成后，在 `output/` 目录下：
- `vmlinuz` - 定制Linux内核
- `rootfs/` - 根文件系统
- `XiaoKangOS.iso` - 可启动ISO（<1GB）

## 📁 项目结构

```
xiaokangos/
├── build/               # 构建系统
│   ├── build.sh        # 主构建脚本
│   ├── config.sh       # 配置
│   ├── mkrootfs.sh     # 构建根文件系统
│   └── mkiso.sh        # 生成ISO
├── kernel/              # Linux内核
│   └── xiaokang_defconfig  # 定制内核配置
├── kernel-module/       # 系统调用桥接层
│   ├── Makefile
│   ├── main.c
│   └── ...（多个C文件）
├── browser/            # 浏览器配置
│   ├── start-browser.sh  # 启动脚本
│   ├── browser-flags.conf # 浏览器参数
│   └── session-manager.sh # 会话管理
├── web/                # 网页应用
│   ├── frontend/       # 网页前端
│   │   ├── index.html
│   │   ├── style.css
│   │   ├── app.js
│   │   └── xiao-api.js
│   └── backend/        # PHP后端
│       ├── config.php
│       ├── auth.php
│       └── ...（多个PHP文件）
└── docs/               # 文档
    ├── api-spec.md     # API说明
    ├── architecture.md # 架构解析
    └── deployment.md   # 部署指南
```

## 📚 详细文档

### 新手必读

1. **[API说明](docs/api-spec.md)** - xiaojs API是啥？能干啥？
   - 用大白话解释5大API功能
   - 每个功能都有代码示例
   - 安全机制解释

2. **[架构解析](docs/architecture.md)** - 系统是怎么工作的？
   - 5层架构通俗解释
   - 数据流动全过程
   - 核心概念解释

3. **[部署指南](docs/deployment.md)** - 手把手教你用起来！
   - 3种部署方式详解
   - 每一步都有截图式说明
   - 常见问题解答

### 技术文档

- **内核配置**：`kernel/xiaokang_defconfig`
- **内核模块**：`kernel-module/` 目录
- **构建脚本**：`build/` 目录
- **网页应用**：`web/` 目录

## 🔧 核心组件说明

### 1. 定制Linux内核

基于Linux 6.6，进行了大量优化：
- **体积小**：压缩后<15MB
- **启动快**：LZ4压缩，秒级启动
- **驱动全**：支持常见网卡/显卡/USB
- **裁剪多**：移除不需要的模块

### 2. Chromium浏览器

修改Chromium实现Kiosk模式：
- **无边框**：全屏显示，看不到浏览器UI
- **自动启动**：系统启动后自动运行
- **硬件加速**：启用WebGL、3D支持
- **会话管理**：重启后恢复上次状态

### 3. xiaojs API系统

让网页可以操作电脑的"翻译官"：

```javascript
// 读取文件
const 内容 = await xiao.fs.read('/home/xiao/文档.txt');

// 查看进程
const 进程列表 = await xiao.process.list();

// 系统信息
const 信息 = await xiao.system.info();

// 网络状态
const 网络 = await xiao.network.status();

// 硬件信息
const 硬件 = await xiao.hardware.info();
```

### 4. 内核桥接模块

Linux内核模块，负责：
- 接收网页命令
- 执行系统调用
- 安全检查
- 返回结果

位置：`/proc/xiao/bridge`

### 5. Web前端界面

现代网页应用，包含：
- **仪表盘**：显示系统状态
- **文件管理器**：浏览文件
- **进程管理器**：管理程序
- **设置面板**：配置系统

### 6. PHP后端系统

处理用户认证和数据：
- **用户注册/登录**
- **JWT认证**
- **RESTful API**
- **数据库操作**

## 🎯 适用场景

### 谁会用这个系统？

| 用户 | 用途 |
|------|------|
| **普通用户** | 体验新奇的网页操作系统 |
| **开发者** | 学习操作系统原理 |
| **企业** | 定制专用终端设备 |
| **教育机构** | 教学演示 |
| **嵌入式** | 轻量级专用系统 |

### 具体应用场景

1. **信息查询终端**
   - 商场导览机
   - 医院挂号机
   - 银行查询机

2. **专用设备系统**
   - 工业控制界面
   - 智能家居控制
   - 车载娱乐系统

3. **演示学习平台**
   - 操作系统教学
   - Web开发演示
   - 系统架构学习

## 🔄 工作流程

### 用户操作流程

```
用户点击网页按钮
    ↓
网页调用 xiao.fs.read()
    ↓
xiaojs API处理
    ↓
通过 /proc/xiao/bridge 发送
    ↓
内核模块接收命令
    ↓
执行系统调用
    ↓
读取文件
    ↓
结果层层返回
    ↓
网页显示内容
```

### 系统启动流程

```
开机 → BIOS自检 → GRUB引导
    ↓
Linux内核启动 → 驱动加载
    ↓
systemd服务启动 → 网络初始化
    ↓
浏览器自动启动 → 全屏Kiosk模式
    ↓
加载网页界面 → 系统就绪
```

## 🤝 如何贡献？

欢迎各种形式的贡献！

### 贡献方式

1. **报告问题**
   - 发现bug？提issue！
   - 有建议？提issue！

2. **提交代码**
   - 修复bug
   - 添加功能
   - 优化代码

3. **改进文档**
   - 完善现有文档
   - 翻译文档
   - 添加示例

4. **测试反馈**
   - 在不同环境测试
   - 提供测试报告
   - 反馈使用体验

### 开发规范

1. **代码风格**
   - C代码：Linux内核编码规范
   - 脚本：shellcheck通过
   - 网页：ES6+标准

2. **提交信息**
   - 格式：`类型: 简短描述`
   - 类型：feat/fix/docs/style/refactor/test/chore
   - 示例：`feat: 添加文件上传功能`

3. **测试要求**
   - 新功能需要测试
   - 修复bug需要测试用例
   - 确保构建通过

## 🐛 常见问题

### Q: 需要什么硬件？

**A:** 最低要求：
- CPU: x86_64 1GHz
- 内存: 1GB
- 硬盘: 4GB
- 显卡: 基本VGA

推荐配置：
- CPU: x86_64 2GHz双核
- 内存: 2GB+
- 硬盘: 8GB+ SSD
- 显卡: 支持3D加速

### Q: 支持中文吗？

**A:** 目前版本默认英文界面，但可以在设置中调整。中文界面正在开发中。

### Q: 能安装软件吗？

**A:** 目前只能运行网页应用。未来会支持安装本地程序。

### Q: 安全吗？

**A:** 有多重安全保护：
- 沙箱隔离
- 权限控制
- 路径限制
- 输入验证

### Q: 能玩游戏吗？

**A:** 支持WebGL游戏！可以通过网页玩HTML5游戏。

### Q: 如何更新？

**A:** 目前需要重新构建ISO。未来会提供在线更新功能。

## 📞 技术支持

### 获取帮助

1. **查看文档**：先看 `docs/` 目录
2. **搜索问题**：在issue中搜索
3. **提交问题**：新建issue

### 交流渠道

- **GitHub Issues**：问题反馈
- **文档**：项目文档
- **Email**：xiaokangos@outlook.com

## 📄 许可证

本项目采用 **GNU General Public License v2.0 (GPLv2)** 许可证。

### 这意味着什么？

在遵守GPLv2许可证的前提下，你可以：
- ✅ 自由使用 - 可以用于个人或商业用途
- ✅ 自由修改 - 可以修改源代码
- ✅ 自由分发 - 可以分发原版或修改过的版本
- ✅ 商业使用 - 可以用于商业产品

### 你的义务

如果你分发修改后的版本：
- **必须开源** - 必须公开你的源代码
- **必须保留许可证** - 必须包含GPLv2许可证全文
- **必须说明修改** - 必须说明你做了哪些修改
- **必须提供源代码** - 必须能够获取到修改后的源代码

### 许可证原文

完整许可证请查看 [LICENSE](LICENSE) 文件。

> ⚠️ **重要提示**
> 
> 本项目包含的第三方组件可能有不同的许可证：
> - Linux内核 - GPLv2
> - Chromium浏览器 - BSD许可证
> - PHP - PHP许可证
> 
> 请确保同时遵守这些组件的许可证要求。

## 🙏 致谢

感谢以下项目和技术的支持：
- **Linux内核** - 操作系统核心
- **Chromium** - 浏览器引擎
- **PHP** - 后端语言
- **所有贡献者** - 让项目更好

## 🎉 开始吧！

**选择你的起点：**

- 🚀 **快速体验** → 看 [部署指南](docs/deployment.md)
- 📚 **学习原理** → 看 [架构解析](docs/architecture.md)
- 💻 **动手开发** → 看 [API说明](docs/api-spec.md)
- 🔧 **参与构建** → 从 "如何构建？" 开始

---

<p align="center">
  有问题？有想法？欢迎贡献！
  <br>
  <strong>让网页成为操作系统的新未来！</strong>
</p>
